<biosimulations-tab-page>
  <div class="tab-spinner-container" *ngIf="loading$ | async">
    <biosimulations-spinner> </biosimulations-spinner>
  </div>

  <!-- The overview tab for the entire project-->

  <biosimulations-tab-page-tab heading="Overview" icon="overview">
    <ng-container *ngIf="metadata$ | async as metadata">
      <biosimulations-project-overview [metadata]="metadata">
      </biosimulations-project-overview>
    </ng-container>
  </biosimulations-tab-page-tab>
  <!-- End overview tab-->

  <!--Information about files in project-->
  <biosimulations-tab-page-tab
    heading="Files"
    icon="file"
    urlHashFragment="files"
    *ngIf="files$ | async as files"
  >
    <pre>
    {{ files | json }}
    
  </pre
    >
  </biosimulations-tab-page-tab>

  <!-- Information about the simulation run -->
  <biosimulations-tab-page-tab
    heading="Simulation run"
    icon="simulation"
    urlHashFragment="run"
    *ngIf="simulationRun$ | async as simulationRun"
  >
    <biosimulations-project-simulation
      [simulationRun]="simulationRun"
    ></biosimulations-project-simulation>
  </biosimulations-tab-page-tab>
  <!-- End information about the simulation run -->

  <!--A tab for each vega spec present in the project-->
  <ng-container *ngIf="vegaSpecs$ | async as specs">
    <ng-container *ngFor="let spec of specs; let i = index">
      <biosimulations-tab-page-tab
        [urlHashFragment]="spec.path"
        heading="{{ spec.path || 'Figure ' + (i + 1) + '/' + specs.length }}"
        icon="chart"
      >
        <biosimulations-project-figure
          [figure]="spec"
          [sedDocumentsConfiguration]="files$ | async"
        >
        </biosimulations-project-figure>
      </biosimulations-tab-page-tab>
    </ng-container>
  </ng-container>
  <!-- End visualizations of figures-->

  <!--Information about files in project-->
  <biosimulations-tab-page-tab
    heading="Downloads"
    icon="download"
    urlHashFragment="download"
    *ngIf="downloads$ | async as downloads"
  >
    <biosimulations-project-downloads
      [downloads]="downloads"
    >
    </biosimulations-project-downloads>
  </biosimulations-tab-page-tab>
</biosimulations-tab-page>
