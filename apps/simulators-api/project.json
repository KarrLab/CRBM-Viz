{
  "root": "apps/simulators-api",
  "sourceRoot": "apps/simulators-api/src",
  "projectType": "application",
  "prefix": "simulators-api",
  "generators": {},
  "targets": {
    "build": {
      "executor": "@nrwl/node:build",
      "options": {
        "outputPath": "dist/apps/simulators-api",
        "main": "apps/simulators-api/src/main.ts",
        "tsConfig": "apps/simulators-api/tsconfig.app.json",
        "assets": [
          "apps/simulators-api/src/assets"
        ]
      },
      "configurations": {
        "production": {
          "optimization": true,
          "extractLicenses": true,
          "inspect": false,
          "fileReplacements": [
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external-prod.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.prod.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/deployment/deployment.ts",
              "with": "libs/shared/environments/src/lib/deployment/deployment.prod.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.prod.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external-prod.ts"
            }
          ]
        },
        "staging": {
          "optimization": true,
          "extractLicenses": true,
          "inspect": false,
          "fileReplacements": [
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external-stage.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.stage.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/deployment/deployment.ts",
              "with": "libs/shared/environments/src/lib/deployment/deployment.stage.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.stage.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external-stage.ts"
            }
          ]
        },
        "development": {
          "optimization": true,
          "extractLicenses": true,
          "inspect": false,
          "fileReplacements": [
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-api-endpoints/biosimulations-api-endpoints.external-dev.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.ts",
              "with": "libs/shared/environments/src/lib/biosimulations-app-endpoints/biosimulations-app-endpoints.dev.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/deployment/deployment.ts",
              "with": "libs/shared/environments/src/lib/deployment/deployment.dev.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/files-api-endpoint/files-api-endpoint.dev.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.internal.ts"
            },
            {
              "replace": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external.ts",
              "with": "libs/shared/environments/src/lib/data-api-endpoint/data-api-endpoint.external-dev.ts"
            }
          ]
        }
      }
    },
    "serve": {
      "executor": "@nrwl/node:execute",
      "options": {
        "buildTarget": "simulators-api:build"
      }
    },
    "lint": {
      "executor": "@nrwl/linter:eslint",
      "options": {
        "lintFilePatterns": [
          "apps/simulators-api/**/*.ts"
        ]
      }
    },
    "test": {
      "executor": "@nrwl/jest:jest",
      "options": {
        "jestConfig": "apps/simulators-api/jest.config.js",
        "passWithNoTests": true
      }
    },
    "docker": {
      "builder": "@nx-tools/nx-docker:build",
      "options": {
        "file": "./Dockerfile",
        "push": true,
        "build-args": [
          "app=simulators-api"
        ],
        "cache-from": [
          "type=registry,ref=ghcr.io/biosimulations/simulators-api:buildcache"
        ],
        "cache-to": [
          "type=registry,ref=ghcr.io/biosimulations/simulators-api:buildcache,mode=max"
        ],
        "metadata": {
          "enabled": true,
          "images": [
            "ghcr.io/biosimulations/simulators-api"
          ],
          "tags": [
            "type=schedule",
            "type=ref,event=branch",
            "type=ref,event=tag",
            "type=ref,event=pr",
            "type=semver,pattern={{version}}",
            "type=sha"
          ],
          "labels": [
            "org.opencontainers.image.title=BioSimulators API",
            "org.opencontainers.image.description=Docker image for the BioSimulators API",
            "org.opencontainers.image.url=https://biosimulators.org/",
            "org.opencontainers.image.documentation=docs.biosimulators.org",
            "org.opencontainers.image.source=https://github.com/biosimulations/biosimulations",
            "org.opencontainers.image.authors=BioSimulations Team <info@biosimulations.org>",
            "org.opencontainers.image.vendor=BioSimulations",
            "org.opencontainers.image.licenses=MIT"
          ]
        }
      }
    }
  },
  "tags": [
    "scope:simulators",
    "type:api",
    "platform:server"
  ]
}