<mat-card class="card-form-section mat-elevation-z3">
  <ng-container *ngIf="!shouldShowSpinner; else loading">
    <div formHost></div>
    <div class="button-container">
      <div class="back">
        <button
          *ngIf="shouldShowBackButton()"
          mat-flat-button
          class="biosimulations-button run"
          id="multi-step-form-back"
          type="reset"
          (click)="onBackClicked()">
          Back
        </button>
      </div>
      <div class="next">
        <ng-container *ngIf="shouldShowNextButton()">
          <button
            #nextButton
            mat-flat-button
            class="biosimulations-button run"
            id="multi-step-form-next"
            type="submit"
            (click)="onNextClicked()">
            Next
          </button>
        </ng-container>
      </div>

      <ng-container *ngIf="dataSource?.hasExtraButtons">
        <ng-container *ngFor="let extraButton of currentExtraButtons">
          <button
            mat-flat-button
            [class]="extraButton.class"
            type="submit"
            (click)="onExtraButtonClicked(extraButton)">
            {{ extraButton.label }}
          </button>
        </ng-container>
      </ng-container>
    </div>
  </ng-container>
</mat-card>

<ng-template #loading>
  <mat-spinner class="form-spinner" [diameter]="60" [strokeWidth]="5"></mat-spinner>
  <mat-hint class="loading-text">{{ loadingText }}</mat-hint>
</ng-template>
